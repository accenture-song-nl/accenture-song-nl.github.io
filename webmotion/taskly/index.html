<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taskly</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ú® Taskly ‚ú®</h1>
            <div class="language-switcher">
                <button class="lang-btn active" data-lang="en">EN</button>
                <button class="lang-btn" data-lang="nl">NL</button>
            </div>
        </header>
        <main>
            <p class="welcome" data-i18n="welcome">Welcome to Taskly üéâ</p>
            <p class="tagline" data-i18n="tagline">No guilt. No nagging. Just clarity. üí´</p>
            
            <!-- Score Overview -->
            <div class="score-overview">
                <div class="score-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="completedCount">0</span>
                        <span class="stat-label" data-i18n="completed">Completed</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="totalCount">0</span>
                        <span class="stat-label" data-i18n="total">Total</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="completionRate">0%</span>
                        <span class="stat-label" data-i18n="progress">Progress</span>
                    </div>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="motivational-quote" id="motivationalQuote" data-i18n="motivationalQuote">
                    üöÄ Let's get started!
                </div>
            </div>
            
            <!-- Task Lists -->
            <div class="tasks-section">
                <!-- Daily Calendar View -->
                <div class="daily-calendar">
                    <h2 class="calendar-title" data-i18n="weekOverview">Week Overview üìÖ</h2>
                    
                    <!-- Week Navigation -->
                    <div class="week-navigation">
                        <button class="week-nav-arrow week-nav-prev" id="prevWeekArrow">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <div class="week-display">
                            <span class="week-label" data-i18n="thisWeek">This Week</span>
                            <span id="weekDates" class="week-dates"></span>
                            <button class="today-btn" id="todayBtn">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                                <span data-i18n="backToCurrentWeek">Back to the current week</span>
                            </button>
                        </div>
                        <button class="week-nav-arrow week-nav-next" id="nextWeekArrow">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="days-grid" id="daysGrid">
                        <!-- Days will be generated by JS -->
                    </div>
                    
                    <button class="reset-week-btn" id="resetWeekBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="1 4 1 10 7 10"></polyline>
                            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                        </svg>
                        <span data-i18n="resetWeekTasks">Reset This Week's Tasks</span>
                    </button>
                </div>
                
                <!-- Unassigned and Completed Tasks -->
                <div class="task-list-container unassigned-tasks">
                    <h2 class="list-title" data-i18n="unassignedTasks">Unassigned Tasks üìã</h2>
                    <p class="helper-text" data-i18n="dragTasksHelper">Drag tasks to assign them to a specific day</p>
                    <div id="unassignedTasks" class="task-list">
                        <p class="empty-state" data-i18n="noUnassignedTasks">No unassigned tasks! üéâ</p>
                    </div>
                </div>
                
                <div class="task-list-container">
                    <h2 class="list-title" data-i18n="completedTasks">Completed ‚úÖ</h2>
                    <div id="completedTasks" class="task-list">
                        <p class="empty-state" data-i18n="nothingCompleted">Nothing completed yet! You got this üí™</p>
                    </div>
                </div>
                
                <!-- All Tasks (Full Width Below) -->
                <div class="task-list-container all-tasks" style="display: none;">
                    <h2 class="list-title" data-i18n="allTasks">All Tasks üìù</h2>
                    <div id="allTasks" class="task-list">
                        <p class="empty-state" data-i18n="noTasksYet">No tasks yet! Click the + button to add one üöÄ</p>
                    </div>
                </div>
            </div>
            
            <button id="manageTasksBtn" class="manage-tasks-btn" data-i18n-title="manageTasks" title="Manage Tasks">
                <span class="tasks-icon">üìù</span>
            </button>
        </main>
    </div>

    <!-- Add Task Modal -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 data-i18n="addNewTask">Add New Task ‚ú®</h2>
            
            <button type="button" id="getAISuggestionsBtn" class="ai-suggestions-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <span data-i18n="getTaskSuggestions">Get Task Suggestions</span>
            </button>
            
            <div id="aiSuggestionsContainer" class="ai-suggestions-container" style="display: none;">
                <h3 data-i18n="suggestedTasks">Suggested Tasks:</h3>
                <div id="aiSuggestionsList" class="ai-suggestions-list">
                    <!-- Populated dynamically -->
                </div>
            </div>
            
            <form id="taskForm">
                <div class="form-group">
                    <label for="taskName" data-i18n="taskName">Task Name</label>
                    <input type="text" id="taskName" name="taskName" data-i18n-placeholder="taskNamePlaceholder" placeholder="What needs to be done?" required>
                </div>

                <div class="form-group">
                    <label for="taskEmoji" data-i18n="emoji">Emoji</label>
                    <input type="text" id="taskEmoji" name="taskEmoji" list="emojiList" data-i18n-placeholder="searchEmoji" placeholder="Search emoji..." required autocomplete="off">
                    <datalist id="emojiList">
                        <option value="‚òÄÔ∏è Alarm clock">
                        <option value="‚úàÔ∏è Airplane">
                        <option value="üçé Apple">
                        <option value="üé® Art">
                        <option value="üéí Backpack">
                        <option value="ü©π Bandage">
                        <option value="üèÄ Basketball">
                        <option value="üß∫ Basket">
                        <option value="üõÅ Bath">
                        <option value="üîî Bell">
                        <option value="üìö Books">
                        <option value="üß† brain">
                        <option value="üíº Briefcase">
                        <option value="üßπ Broom">
                        <option value="üìÖ Calendar">
                        <option value="üì∑ Camera">
                        <option value="üöó Car">
                        <option value="üêà Cat">
                        <option value="‚úÖ Check mark">
                        <option value="üß• Coat">
                        <option value="‚òï Coffee">
                        <option value="üéä Confetti">
                        <option value="üç≥ Cooking">
                        <option value="üí≥ Credit card">
                        <option value="üö¥ Cycling">
                        <option value="üñ•Ô∏è Desktop">
                        <option value="üêï Dog">
                        <option value="üëó Dress">
                        <option value="ü•Å Drum">
                        <option value="üìß Email">
                        <option value="üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family">
                        <option value="üî• Fire">
                        <option value="üéÆ Game">
                        <option value="üíé Gem">
                        <option value="üéÅ Gift">
                        <option value="üåü Glowing star">
                        <option value="ü•á Gold medal">
                        <option value="üéì Graduation cap">
                        <option value="üé∏ Guitar">
                        <option value="üî® Hammer">
                        <option value="üéß Headphones">
                        <option value="‚ù§Ô∏è Heart">
                        <option value="üåø Herb">
                        <option value="üè† House">
                        <option value="‚å®Ô∏è Keyboard">
                        <option value="üíª Laptop">
                        <option value="üí° Lightbulb">
                        <option value="‚ö° Lightning">
                        <option value="üìç Location">
                        <option value="üß≥ Luggage">
                        <option value="üó∫Ô∏è Map">
                        <option value="üßò Meditation">
                        <option value="üìù Memo">
                        <option value="üé§ Microphone">
                        <option value="üî¨ Microscope">
                        <option value="üí∞ Money bag">
                        <option value="üåô Moon">
                        <option value="üé¨ Movie">
                        <option value="üí™ Muscle">
                        <option value="üéµ Music">
                        <option value="üíÖ Nail polish">
                        <option value="üëî Necktie">
                        <option value="üìñ Open book">
                        <option value="üéâ Party">
                        <option value="üë• People">
                        <option value="üì± Phone">
                        <option value="‚òéÔ∏è Phone call">
                        <option value="üéπ Piano">
                        <option value="üíä Pill">
                        <option value="üìå Pin">
                        <option value="ü•ò Pot of food">
                        <option value="üåà Rainbow">
                        <option value="üèÉ Running">
                        <option value="ü•ó Salad">
                        <option value="üßñ Sauna">
                        <option value="‚úÇÔ∏è Scissors">
                        <option value="üå± Seedling">
                        <option value="üõí Shopping cart">
                        <option value="üí§ Sleep">
                        <option value="‚öΩ Soccer ball">
                        <option value="üí¨ Speech bubble">
                        <option value="‚≠ê Star">
                        <option value="ü©∫ Stethoscope">
                        <option value="üåª Sunflower">
                        <option value="üíâ Syringe">
                        <option value="üéØ Target">
                        <option value="üçµ Tea">
                        <option value="üî≠ Telescope">
                        <option value="üéæ Tennis">
                        <option value="ü¶∑ Tooth">
                        <option value="üìê Triangle ruler">
                        <option value="üèÜ Trophy">
                        <option value="üé∫ Trumpet">
                        <option value="üëï T-shirt">
                        <option value="üì∫ TV">
                        <option value="üéª Violin">
                        <option value="üèãÔ∏è Weightlifting">
                        <option value="üîß Wrench">
                        <option value="‚úçÔ∏è Writing">
                    </datalist>
                </div>

                <div class="form-group">
                    <label for="taskDescription" data-i18n="description">Description</label>
                    <textarea id="taskDescription" name="taskDescription" data-i18n-placeholder="descriptionPlaceholder" placeholder="Add details about this task (optional)" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="taskFrequency" data-i18n="frequency">Frequency</label>
                    <div class="frequency-inputs">
                        <div class="frequency-input-wrapper">
                            <input type="number" id="frequencyAmount" name="frequencyAmount" min="1" value="1" required>
                            <span class="frequency-label" id="frequencyLabel">time</span>
                        </div>
                        <input type="hidden" id="frequencyPeriod" name="frequencyPeriod" value="week" required>
                    </div>
                    <div class="frequency-buttons">
                        <button type="button" class="frequency-btn" data-period="day" data-i18n="perDay">Per Day</button>
                        <button type="button" class="frequency-btn active" data-period="week" data-i18n="perWeek">Per Week</button>
                        <button type="button" class="frequency-btn" data-period="month" data-i18n="perMonth">Per Month</button>
                        <button type="button" class="frequency-btn" data-period="year" data-i18n="perYear">Per Year</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="taskPerson" data-i18n="assignToPerson">Assign to Person</label>
                    <div class="person-select-wrapper">
                        <select id="taskPerson" name="taskPerson" required>
                            <option value="" data-i18n="selectPerson">Select a person</option>
                            <!-- Populated dynamically -->
                        </select>
                        <button type="button" class="manage-persons-btn" id="managePersonsBtn" data-i18n-title="managePersons" title="Manage persons">‚úèÔ∏è</button>
                    </div>
                </div>

                <button type="submit" class="submit-btn" data-i18n="addTask">Add Task üöÄ</button>
            </form>
        </div>
    </div>

    <!-- Edit Task Modal -->
    <div id="editTaskModal" class="modal">
        <div class="modal-content">
            <span class="close-edit">&times;</span>
            <h2 data-i18n="editTask">Edit Task ‚úèÔ∏è</h2>
            
            <form id="editTaskForm">
                <input type="hidden" id="editTaskId">
                
                <div class="form-group">
                    <label for="editTaskName" data-i18n="taskName">Task Name</label>
                    <input type="text" id="editTaskName" name="editTaskName" data-i18n-placeholder="taskNamePlaceholder" placeholder="What needs to be done?" required>
                </div>

                <div class="form-group">
                    <label for="editTaskEmoji" data-i18n="emoji">Emoji</label>
                    <input type="text" id="editTaskEmoji" name="editTaskEmoji" list="editEmojiList" data-i18n-placeholder="searchEmoji" placeholder="Search emoji..." required autocomplete="off">
                    <datalist id="editEmojiList">
                        <option value="‚òÄÔ∏è Alarm clock">
                        <option value="‚úàÔ∏è Airplane">
                        <option value="üçé Apple">
                        <option value="üé® Art">
                        <option value="üéí Backpack">
                        <option value="ü©π Bandage">
                        <option value="üèÄ Basketball">
                        <option value="üß∫ Basket">
                        <option value="üõÅ Bath">
                        <option value="üîî Bell">
                        <option value="üìö Books">
                        <option value="üß† brain">
                        <option value="üíº Briefcase">
                        <option value="üßπ Broom">
                        <option value="üìÖ Calendar">
                        <option value="üì∑ Camera">
                        <option value="üöó Car">
                        <option value="üêà Cat">
                        <option value="‚úÖ Check mark">
                        <option value="üß• Coat">
                        <option value="‚òï Coffee">
                        <option value="üéä Confetti">
                        <option value="üç≥ Cooking">
                        <option value="üí≥ Credit card">
                        <option value="üö¥ Cycling">
                        <option value="üñ•Ô∏è Desktop">
                        <option value="üêï Dog">
                        <option value="üëó Dress">
                        <option value="ü•Å Drum">
                        <option value="üìß Email">
                        <option value="üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family">
                        <option value="üî• Fire">
                        <option value="üéÆ Game">
                        <option value="üíé Gem">
                        <option value="üéÅ Gift">
                        <option value="üåü Glowing star">
                        <option value="ü•á Gold medal">
                        <option value="üéì Graduation cap">
                        <option value="üé∏ Guitar">
                        <option value="üî® Hammer">
                        <option value="üéß Headphones">
                        <option value="‚ù§Ô∏è Heart">
                        <option value="üåø Herb">
                        <option value="üè† House">
                        <option value="‚å®Ô∏è Keyboard">
                        <option value="üíª Laptop">
                        <option value="üí° Lightbulb">
                        <option value="‚ö° Lightning">
                        <option value="üìç Location">
                        <option value="üß≥ Luggage">
                        <option value="üó∫Ô∏è Map">
                        <option value="üßò Meditation">
                        <option value="üìù Memo">
                        <option value="üé§ Microphone">
                        <option value="üî¨ Microscope">
                        <option value="üí∞ Money bag">
                        <option value="üåô Moon">
                        <option value="üé¨ Movie">
                        <option value="üí™ Muscle">
                        <option value="üéµ Music">
                        <option value="üíÖ Nail polish">
                        <option value="üëî Necktie">
                        <option value="üìñ Open book">
                        <option value="üéâ Party">
                        <option value="üë• People">
                        <option value="üì± Phone">
                        <option value="‚òéÔ∏è Phone call">
                        <option value="üéπ Piano">
                        <option value="üíä Pill">
                        <option value="üìå Pin">
                        <option value="ü•ò Pot of food">
                        <option value="üåà Rainbow">
                        <option value="üèÉ Running">
                        <option value="ü•ó Salad">
                        <option value="üßñ Sauna">
                        <option value="‚úÇÔ∏è Scissors">
                        <option value="üå± Seedling">
                        <option value="üõí Shopping cart">
                        <option value="üí§ Sleep">
                        <option value="‚öΩ Soccer ball">
                        <option value="üí¨ Speech bubble">
                        <option value="‚≠ê Star">
                        <option value="ü©∫ Stethoscope">
                        <option value="üåª Sunflower">
                        <option value="üíâ Syringe">
                        <option value="üéØ Target">
                        <option value="üçµ Tea">
                        <option value="üî≠ Telescope">
                        <option value="üéæ Tennis">
                        <option value="ü¶∑ Tooth">
                        <option value="üìê Triangle ruler">
                        <option value="üèÜ Trophy">
                        <option value="üé∫ Trumpet">
                        <option value="üëï T-shirt">
                        <option value="üì∫ TV">
                        <option value="üéª Violin">
                        <option value="üèãÔ∏è Weightlifting">
                        <option value="üîß Wrench">
                        <option value="‚úçÔ∏è Writing">
                    </datalist>
                </div>

                <div class="form-group">
                    <label for="editTaskDescription" data-i18n="description">Description</label>
                    <textarea id="editTaskDescription" name="editTaskDescription" data-i18n-placeholder="descriptionPlaceholder" placeholder="Add details about this task (optional)" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="editTaskFrequency" data-i18n="frequency">Frequency</label>
                    <div class="frequency-inputs">
                        <div class="frequency-input-wrapper">
                            <input type="number" id="editFrequencyAmount" name="editFrequencyAmount" min="1" value="1" required>
                            <span class="frequency-label" id="editFrequencyLabel">time</span>
                        </div>
                        <input type="hidden" id="editFrequencyPeriod" name="editFrequencyPeriod" value="week" required>
                    </div>
                    <div class="frequency-buttons" id="editFrequencyButtons">
                        <button type="button" class="frequency-btn" data-period="day" data-i18n="perDay">Per Day</button>
                        <button type="button" class="frequency-btn" data-period="week" data-i18n="perWeek">Per Week</button>
                        <button type="button" class="frequency-btn" data-period="month" data-i18n="perMonth">Per Month</button>
                        <button type="button" class="frequency-btn" data-period="year" data-i18n="perYear">Per Year</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="editTaskPerson" data-i18n="assignToPerson">Assign to Person</label>
                    <div class="person-select-wrapper">
                        <select id="editTaskPerson" name="editTaskPerson" required>
                            <option value="" data-i18n="selectPerson">Select a person</option>
                            <!-- Populated dynamically -->
                        </select>
                        <button type="button" class="manage-persons-btn" id="manageEditPersonsBtn" data-i18n-title="managePersons" title="Manage persons">‚úèÔ∏è</button>
                    </div>
                </div>

                <div class="form-buttons">
                    <button type="submit" class="submit-btn" data-i18n="updateTask">Update Task üíæ</button>
                    <button type="button" id="deleteTaskBtn" class="delete-btn" data-i18n="deleteTask">Delete Task üóëÔ∏è</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Manage Persons Modal -->
    <div id="managePersonsModal" class="modal">
        <div class="modal-content">
            <span class="close-manage-persons">&times;</span>
            <h2 data-i18n="managePersons">Manage Persons ‚úèÔ∏è</h2>
            
            <div class="add-person-input-container">
                <input type="text" id="newPersonInput" data-i18n-placeholder="enterPersonName" placeholder="Enter person name..." />
                <button type="button" id="addPersonFromModalBtn" class="add-person-modal-btn" data-i18n="addPerson">Add Person</button>
            </div>
            
            <div id="personsListContainer" class="persons-list">
                <!-- Populated dynamically -->
            </div>
            <p class="helper-text" data-i18n="removePersonHelper" style="text-align: center; margin-top: 20px;">Click the √ó to remove a person</p>
        </div>
    </div>

    <!-- All Tasks Modal -->
    <div id="allTasksModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close-all-tasks">&times;</span>
            <h2 data-i18n="manageTasks">Manage Tasks üìù</h2>
            <button id="addNewTaskBtn" class="add-new-task-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
                <span data-i18n="addNewTaskBtn">Add New Task</span>
            </button>
            <div id="allTasksModalContent" class="all-tasks-modal-list">
                <!-- Populated dynamically -->
            </div>
        </div>
    </div>

    <!-- Confirm Reset Modal -->
    <div id="confirmResetModal" class="modal">
        <div class="modal-content modal-confirm">
            <h2 data-i18n="confirmResetTitle">Reset Week's Tasks?</h2>
            <p class="confirm-message" data-i18n="confirmResetMessage">Are you sure you want to reset all tasks for this week? This will unassign all tasks and mark them as incomplete.</p>
            <div class="confirm-buttons">
                <button id="cancelResetBtn" class="cancel-btn" data-i18n="cancel">Cancel</button>
                <button id="confirmResetBtn" class="confirm-btn" data-i18n="confirmReset">Reset Tasks</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="languages.js"></script>
    <script src="script.js"></script>
</body>
</html>
